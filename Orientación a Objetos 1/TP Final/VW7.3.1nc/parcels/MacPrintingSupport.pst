<?xml version="1.0"?><st-source><!-- Name: MacPrintingSupportNotice: Copyright © 2005 Cincom Systems, Inc.  All Rights Reserved.Comment: This parcel adds support for printing with a standard printer dialog on the Macintosh. DbIdentifier: bear73DbTrace: 16431HideSource: falsePackageName: MacPrintingSupportPackageName:: MacPrintingSupportParcel: #('MacPrintingSupport-1.1')ParcelName: MacPrintingSupportPrintStringCache: (1.1,rwagener)SaveSource: trueVersion: 7.3.1Date: 6:40:57 pm April 10, 2005 --><time-stamp>From VisualWorks®, 7.3.1 of April 10, 2005 on April 10, 2005 at 6:40:57 pm</time-stamp><do-it>(Dialog confirm: 'You are filing-in a Parcel source file!\\While this is possible it will not have\the same effect as loading the parcel.\None of the Parcel''s prerequisites will\be loaded and none of its load actions\will be performed.\\Are you sure you want to file-in?' withCRs) ifFalse: [self error: 'Parcel file-in abandoned.  Choose terminate or close.']</do-it><shared-variable><name>OpenPrinterDialog</name><environment>OS.MacFilename</environment><private>false</private><constant>false</constant><category>class variables</category><initializer>false</initializer><attributes><package>MacPrintingSupport</package></attributes></shared-variable><methods><class-id>OS.MacFilename class</class-id> <category>utilities</category><body package="MacPrintingSupport" selector="disableMacPrinterDialog">disableMacPrinterDialog	"Set the class variable OpenPrinterDialog to false in order to 	have the image behave as in previous versions (not showing any dialog)."	"MacFilename disableMacPrinterDialog"	OpenPrinterDialog := false</body><body package="MacPrintingSupport" selector="enableMacPrinterDialog">enableMacPrinterDialog	"Set the class variable OpenPrinterDialog to true to show	the standard printing dialog."	"MacFilename enableMacPrinterDialog"	OpenPrinterDialog := true</body></methods><methods><class-id>OS.MacFilename class</class-id> <category>class initialization</category><body package="MacPrintingSupport" selector="initialize">initialize	"Set the class variable OpenPrinterDialog to false in order to 	have the image behave as in previous versions"	OpenPrinterDialog := false</body></methods><methods><class-id>OS.MacFilename</class-id> <category>primitives</category><body package="MacPrintingSupport" selector="primPrintFile">primPrintFile	" print a PostScript file via print manager without opening a JobDialog	Georg Heeg, 1999"	&lt;primitive: 1632 errorCode: err&gt;	^osName class == String primitiveArgumentClass		ifTrue:	[| ep|				ep := err parameter.				ep isInteger ifTrue:  [ self error: 'A printing related error occured: ' , ep printString]					ifFalse: [ self error: ep]]		ifFalse:			[osName := IOAccessor convertSimpleStringForPlatform: self asString.			self printFile]</body><body package="MacPrintingSupport" selector="primPrintFileWithDialog">primPrintFileWithDialog	" print a PostScript file via print manager opening a JobDialog	Georg Heeg, 1999"	&lt;primitive: 1686 errorCode: err&gt;	^osName class == String primitiveArgumentClass		ifTrue:	[| ep|				ep := err parameter.				ep isInteger ifTrue:  [ self error: 'A printing related error occured: ' , ep printString]					ifFalse: [ self error: ep]]		ifFalse:			[osName := IOAccessor convertSimpleStringForPlatform: self asString.			self printFile]</body></methods><methods><class-id>OS.MacFilename</class-id> <category>private</category><body package="MacPrintingSupport" selector="printFile">printFile	"print a PostScript file via print manager. Depending on the 	value of class variable OpenPrintDialog, the printer drivers 	dialog is opened, or a silent printing is started.	Georg Heeg, 1999"	OpenPrinterDialog		ifTrue: [self primPrintFileWithDialog]		ifFalse: [self primPrintFile]</body></methods><do-it>"Imported Classes:"</do-it><do-it>self error: 'Attempting to file-in parcel imports.  Choose terminate or close'</do-it><class><name>MacFilename</name><environment>OS</environment><super>OS.Filename</super><private>false</private><indexed-type>none</indexed-type><inst-vars></inst-vars><class-inst-vars></class-inst-vars><imports></imports><category>OS-Mac</category><attributes><package>OS-Mac</package></attributes></class></st-source>